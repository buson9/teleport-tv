<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Public Domain TV</title>
<style>
body {
  margin: 0;
  background: #070707;
  font-family: "Courier New", monospace;
  color: #eaeaea;
}

/* ===== SITE NAME ===== */
.site-name {
  text-align: center;
  font-size: 36px;
  font-weight: bold;
  color: #00ff88;
  margin-top: 15px;
  text-shadow: 0 0 10px #0f9d58, 0 0 20px #0f9d58;
}

/* ===== TV FRAME ===== */
.tv-wrapper {
  display: flex;
  justify-content: center;
  margin-top: 10px;
}

.tv {
  background: linear-gradient(#4b2e1e, #2a160c);
  padding: 25px;
  border-radius: 25px;
  width: 760px;
  box-shadow: inset 0 0 40px #000, 0 25px 50px #000;
}

/* ===== CRT SCREEN ===== */
.screen {
  position: relative;
  background: black;
  border-radius: 15px;
  overflow: hidden;
  width: 100%;
  height: 405px;
}

/* CRT EFFECT */
.screen::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.03),
      rgba(0,0,0,0.05) 2px
    );
  pointer-events: none;
}

.screen::after {
  content: "";
  position: absolute;
  inset: 0;
  box-shadow: inset 0 0 60px rgba(0,255,150,0.15);
  pointer-events: none;
}

/* ===== Player iframe ===== */
.screen iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* ===== CONTROLS ===== */
.controls {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  margin-top: 15px;
  flex-wrap: wrap;
}

.btn {
  padding: 8px 12px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-size: 16px;
  font-weight: bold;
  background-color: #0f9d58;
  color: #fff;
  box-shadow: inset 0 0 8px #000;
}

.btn:hover {
  background-color: #00ff88;
}

/* ===== PANELS ===== */
.panel {
  display: flex;
  justify-content: space-around;
  margin: 30px;
  flex-wrap: wrap;
}

.box {
  background: #111;
  padding: 15px;
  border-radius: 10px;
  width: 30%;
  min-width: 250px;
}

.qr {
  width: 160px;
  margin-top: 10px;
}

small {
  color: #aaa;
  font-size: 12px;
}

ul {
  padding-left: 20px;
}
</style>
</head>
<body>

<div class="site-name">Public Domain TV</div>

<!-- TV -->
<div class="tv-wrapper">
  <div class="tv">
    <div class="screen">
      <!-- Video iframe din√°mico -->
      <iframe id="videoFrame" src="" allowfullscreen></iframe>
    </div>

    <div class="controls">
      <button class="btn" onclick="prevMovie()">Previous Movie ‚è™</button>
      <button class="btn" onclick="nextMovie()">Next Movie ‚ñ∂</button>
      <button class="btn" onclick="randomMovie()">Surprise üé¨</button>
      <span style="color:#00ff88; font-weight:bold; margin-left:10px;">Sit back, relax & enjoy!</span>
    </div>
  </div>
</div>

<!-- Panels -->
<div class="panel">
  <div class="box">
    <h3 id="aboutTitle"></h3>
    <p id="aboutText"></p>
    <small id="legalText"></small>
  </div>

  <div class="box">
    <h3 id="scheduleTitle"></h3>
    <ul id="movieList">
      <!-- Se llenar√° autom√°ticamente -->
    </ul>
  </div>

  <div class="box">
    <h3 id="donateTitle"></h3>
    <p id="donateText"></p>
    <img src="takenos-qr.png" class="qr">
    <small>QR ‚Äì Takenos</small>
  </div>
</div>

<script>
// LANGUAGE DETECTION
const lang = navigator.language.startsWith("es") ? "es" : "en";

const text = {
  en: {
    aboutTitle: "About",
    aboutText: "Public Domain TV streams classic movies that are legally free to watch.",
    legal: "All content is in the public domain or hosted on Internet Archive.",
    schedule: "Programming",
    donate: "Support This Project",
    donateText: "Help keep this project alive."
  },
  es: {
    aboutTitle: "Acerca de",
    aboutText: "Public Domain TV transmite pel√≠culas cl√°sicas legalmente gratuitas.",
    legal: "Todo el contenido es de dominio p√∫blico o de Internet Archive.",
    schedule: "Programaci√≥n",
    donate: "Apoya el Proyecto",
    donateText: "Ayuda a mantener vivo este proyecto."
  }
};

document.getElementById("aboutTitle").innerText = text[lang].aboutTitle;
document.getElementById("aboutText").innerText = text[lang].aboutText;
document.getElementById("legalText").innerText = text[lang].legal;
document.getElementById("scheduleTitle").innerText = text[lang].schedule;
document.getElementById("donateTitle").innerText = text[lang].donate;
document.getElementById("donateText").innerText = text[lang].donateText;

// ====== MOVIE LIST AND ROTATION ======
const movies = [
  {title:"Night of the Living Dead - Raw HD WS", src:"https://archive.org/embed/Night_Of_The_Living_Dead_raw_HD_WS"},
  {title:"Night of the Living Dead - Remastered HD", src:"https://archive.org/download/Night_Of_The_Living_Dead_raw_HD_WS/NightOfTheLivingDeadRemasteredHD.mp4"},
  {title:"Night of the Living Dead - WS International Print", src:"https://archive.org/download/Night_Of_The_Living_Dead_raw_HD_WS/NightOfTheLivingDeadWSInternationalPrint.mp4"},
  {title:"Detour (1945) - Original", src:"https://archive.org/embed/detour-1945"},
  {title:"Detour (1945) - Colorized", src:"https://archive.org/embed/detour1945HD"},
  {title:"Detour (1945) - Spanish", src:"https://archive.org/embed/1945-detour-el-desvio-edgar-g-ulmer_202005"},
  {title:"The Brain That Wouldn't Die - Extended Cut", src:"https://archive.org/download/thebrainthatwouldntdie1962_202009/EXTENDED+CUT.mp4"},
  {title:"The Brain That Wouldn't Die - Theatrical Cut", src:"https://archive.org/download/thebrainthatwouldntdie1962_202009/THEATRICAL+CUT.mp4"}
];

const movieListEl = document.getElementById("movieList");
movies.forEach(m => {
  const li = document.createElement("li");
  li.textContent = m.title;
  movieListEl.appendChild(li);
});

let currentIndex = 0;
const iframe = document.getElementById("videoFrame");

function playMovie(index){
  currentIndex = index;
  iframe.src = movies[currentIndex].src;
}

// Start with first movie
playMovie(0);

// Rotate movies every 5 minutes automatically
setInterval(()=>{
  currentIndex = (currentIndex+1) % movies.length;
  playMovie(currentIndex);
}, 300000); // 5 minutes

// ====== CONTROL FUNCTIONS ======
function nextMovie(){
  currentIndex = (currentIndex + 1) % movies.length;
  playMovie(currentIndex);
}

function prevMovie(){
  currentIndex = (currentIndex - 1 + movies.length) % movies.length;
  playMovie(currentIndex);
}

function randomMovie(){
  currentIndex = Math.floor(Math.random() * movies.length);
  playMovie(currentIndex);
}
</script>

</body>
</html>
